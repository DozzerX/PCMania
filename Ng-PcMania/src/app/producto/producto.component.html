<!-- Div MAIN CONTENT -->
<div class="row p-xl-5" *ngIf="isLoaded">


    <div class="container my-product-container">
        <div class="row">

            <div class="col-12 col-md-6">
                <div class="my-product-card-container d-flex flex-column">
                    <div class="mb-3">
                        <img id="my-product-big-img" class="img-fluid" src="http://localhost:3000/public/images/Contenido/{{producto.nombre_img[0]}}">
                    </div>
                    <div class="d-flex my-product-cont-outer">
                        <div class="my-product-cont-inner" *ngFor="let img of producto.nombre_img">
                            <img class="my-small-product" onclick="changeImg(this);" src="http://localhost:3000/public/images/Contenido/{{img}}">
                        </div>
                    </div>

                </div>
            </div>

            <div class="col-12 col-md-6 pl-md-0">

                <div class="my-product-card-container">

                    <div>
                        <!-- PRODUCT NAME -->
                        <h3>
                            {{producto.nombre_producto}}
                        </h3>
                        <span class="my-price-border"></span>
                        <div class="d-flex">
                            <!-- PRODUCT PRICE WITH IVA -->
                            <span class="my-price-iva">{{producto.precio_con_iva}}€</span>
                            <!-- PRODUCT PRICE NO IVA -->
                            <div class="d-flex flex-column my-sub-price-container">
                                <span class="my-no-iva-text">SIN IVA</span>
                                <span class="my-no-iva-price">{{producto.precio}}€</span>
                            </div>

                        </div>
                    </div>

                </div>

                <div class="d-flex flex-column my-product-card-container mt-2">
                    <div class="my-product-short-info">
                        <span style="width:8.5rem;"><b>Envío :</b></span>
                        <span>Compra ahora y recíbelo en 2/3 días</span>
                    </div>
                    <div class="my-product-short-info">
                        <span style="width:8.5rem;"><b>Cantidad :</b></span>
                            <div class="d-flex">
                            
                                <input class="my-form-control" type="text" id="cantidad_carrito" name="cantidad_carrito" min="1" max="10" [formControl]="cantidadCarrito">
                                <span class="d-flex flex-column ml-1">
                                    <button type="button" class="btn my-btn-up" (click)="masUno()">
                                            <i class="fas fa-angle-up"></i>
                                    </button>
                                    <button type="button" class="btn my-btn-down"(click)="menosUno()">
                                            <i class="fas fa-angle-down"></i>
                                    </button>
                                    </span>
                                    <span class="ml-3">
                                        <button class="btn btn-secondary" (click)="setCarrito()" [disabled]="btnDisabled">Añadir al carrito</button>
                                    </span>
                            
                            </div>
                    </div>
                    <div class="my-product-short-info">
                        <span style="width:8.5rem;"><b>Disponibilidad :</b></span>

                        <span *ngIf="producto.disponibles > 20" class="my-stock" id="disponibilidad">¡En Stock!</span>
                        <span *ngIf="producto.disponibles == 0" class="my-sin-stock" id="disponibilidad">¡Fuera de Stock!</span>
                        <span *ngIf="producto.disponibles < 20 || producto.disponibles == 20" class="my-ultimo-stock" id="disponibilidad">¡Ultimos en Stock!</span>
                    </div>
                </div>

            </div>

        </div>

        <!-- ROW FOR SPECS -->
        <div class="row" style="margin-top: 115px;">

            <!-- specs -->
            <div class="col-12 col-md-9">

                <div class="my-product-card-container p-3">
                    <h4 class="my-specs-header text-monospace">Especificaciones</h4>
                    <span class="my-price-border"></span>

                    <div class="my-table-product">

                        <table *ngFor="let spec of specs | keyvalue" class="table my-table-striped table-bordered mt-4">
                            <thead>
                                <tr>
                                    <th>{{spec.key}}</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let sp of spec.value[0] | keyvalue">
                                    <td>{{sp.key}}</td>
                                    <td>{{sp.value}}</td>
                                </tr>
                            </tbody>
                            

                        </table>

                    </div>

                </div>

            </div>

            <div class="col-12 col-md-3 pl-md-0 mt-5 mb-5 mt-md-0 mb-md-0">

                <div class="my-product-card-container">
                    <h5 class="my-destacados-title">Destacados</h5>
                    <div *ngFor="let destacado of destacados">
                        <a class="my-destacados-link" routerLink="/producto/{{destacado.producto_id}}">
                            <div class="my-destacados">
                                <div>
                                    <img class="my-destacados-img" src="http://localhost:3000/public/images/Contenido/{{destacado.nombre_img[0]}}">
                                </div>
                                <div>
                                    <span class="my-destacados-product">{{destacado.nombre_producto}}</span>
                                    <span style="color:#313131;"><b>{{destacado.precio_con_iva}}€</b></span>
                                </div>
                            </div>

                        </a>
                    </div>

                </div>


            </div>
        </div>

    </div>

</div>